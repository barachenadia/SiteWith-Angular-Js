<!DOCTYPE html>
<!-- Attach the gemStore module to our HTML page with a Directive - level 1 -->
<html ng-app="gemStore">
<head>
    <meta charset="UTF-8">
    <title>AngularJs tuto</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">
        <img alt="Brand" src="images/angular.jpeg">
      </a>

         <span class="angularbook">  Angular Store</span>
    </div>
  </div>
</nav>

<body  class="list-group" ng-controller=" StoreController as store">
  <div class="row">
    <div class="col-md-8">
    <div class="list-group-item" ng-repeat= "product in store.products">
        <h4>
            <strong> {{product.name}}</strong>
        </h4>
           <em class="pull-right">
            {{product.price |currency }}
           </em>

           <p>
            {{product.description}}
           </p>

           <button type="button" class="btn btn-primary btn-xs  pull-right" ng-show = "product.canPurchase" class="">Add to cart
           </button>

          <div class="gallery" ng-show="product.images.length" ng-controller = "GalleryController as gallery">
              <img class="img img-circle img-thumbnail center-block" ng-src="{{product.images[gallery.current]}}" />
              <ul class="clearfix">
                <li class="small-image pull-left thumbnail" ng-repeat="image in product.images"> <img ng-src="{{image}}"> </li>
              </ul>
           </div>

            <section class="tab" ng-controller = "TabController as tab">
        <ul class="nav nav-pills">
          <li ng-class="{active : tab.isSet(1)}">
            <a href ng-click="tab.setTab(1)">Description</a>
          </li>
          <li ng-class="{active : tab.isSet(2)}">
            <a href ng-click="tab.setTab(2)">Specs</a>
          </li>
          <li ng-class="{active : tab.isSet(3)}">
            <a href ng-click="tab.setTab(3)">Reviews</a></li>
        </ul>
        <div ng-show="tab.isSet(1)">
          <h4>{{product.description}}</h4>
          <blockquote></blockquote>
        </div>
        <div ng-show="tab.isSet(2)">
          <h4>Specs</h4>
          <blockquote>Shine:{{product.shine}} </blockquote>
        </div>
        <div ng-show="tab.isSet(3)">
          <!--  Product Reviews List -->
            <ul>
              <h4>Reviews</h4>
              <li ng-repeat="review in product.reviews">
                <blockquote>
                  <strong> {{review.stars}} Stars</strong>
                  {{review.body}}
                  <cite class="clearfix">— {{review.author}} on {{review.createdOn |  date:'yyyy-MM-dd HH'}}</cite>
                </blockquote>
              </li>
            </ul>


             <form name="reviewForm" ng-controller = "ReviewController as reviewCtrl" ng-submit="reviewForm.$valid && reviewreviewCtrl.addReview(product)" novalidate>
              <!--  Live Preview -->
                <blockquote>
                  <strong> {{reviewCtrl.review.stars}} Stars</strong>
                   {{reviewCtrl.review.body}}
                  <cite class="clearfix">—{{reviewCtrl.review.author}} </cite>
                </blockquote>

                <!--  Review Form -->
                <h4>Submit a Review</h4>
                <fieldset class="form-group">
                  <select class="form-control" ng-options="stars for stars in [5,4,3,2,1]"  title="Stars" ng-model="reviewCtrl.review.stars" required>
                    <option value="">Rate the Product</option>
                  </select>
                </fieldset>
                <fieldset class="form-group">
                  <textarea class="form-control" placeholder="Write a short review of the product..." title="Review" ng-model="reviewCtrl.review.body" required></textarea>
                </fieldset>
                <fieldset class="form-group">
                  <input type="email" class="form-control" placeholder="jimmyDean@example.org" title="Email" ng-model="reviewCtrl.review.author" required/>
                </fieldset>
                <fieldset class="form-group">
                  <input type="submit" class="btn btn-primary pull-right" value="Submit Review" />
                </fieldset>
            </form>


        </div>
      </section>
    </div>

    </div>
   </div>
  </div>
    <script type="text/javascript" src = "js/angular.min.js"></script>
    <script type="text/javascript" src = "js/app.js"></script>
</body>


<!-- ng-hide show  - Hide element if value of the expression is false -->
 <!-- ng-show - show element if value of the expression is true -->
<!-- ng-app - attach the application module to the page  -->
<!-- ng-app - attach the application module to the page  -->
<!-- ng-controller - attach a Controller function to the page  -->
<!-- ng-repeat - repeat a section for each item in a array  -->

</html>